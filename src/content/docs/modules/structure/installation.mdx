---
title: Installation
description: Installing and configuring the Structure module
---

import { Steps, Aside } from '@astrojs/starlight/components';

## Install

```bash
npx structure init
```

The installer asks you to define your app's structure. Some prompts are conditional based on previous answers.

---

## Prompts

### Container Node (Optional)

A container is a top-level grouping node. Use this when your primary entity belongs to something else.

| Prompt | Default | Condition | Description |
|--------|---------|-----------|-------------|
| `hasContainer` | No | - | Do you need a container type? (e.g., Client that contains Projects) |
| `containerNodeName` | Client | hasContainer=true | Singular name |
| `containerNodePlural` | Clients | hasContainer=true | Plural form |
| `containerSlug` | clients | hasContainer=true | URL slug |
| `containerNodeIcon` | Building2 | hasContainer=true | Lucide icon |

**When to use a container:**
- Legal: Clients contain Matters
- Agency: Clients contain Projects
- Property: Buildings contain Units

**When NOT to use a container:**
- Simple project management (just Projects)
- Personal productivity (just Tasks or Notes)

### Primary Node

The main entity users work with.

| Prompt | Default | Condition | Description |
|--------|---------|-----------|-------------|
| `primaryNodeName` | Project | - | Singular name (e.g., "Matter", "Property", "Case") |
| `primaryNodePlural` | Projects | - | Plural form for navigation |
| `primarySlug` | projects | - | URL path |
| `primaryNodeIcon` | Briefcase | - | Lucide icon |
| `primaryInMainNav` | Yes | hasContainer=false | Show in main navigation? |

### Optional Features

| Prompt | Default | Description |
|--------|---------|-------------|
| `enableFolders` | Yes | Allow folders within nodes for organisation |
| `enableTags` | Yes | Allow tags for categorisation |

---

## Post-Installation

<Steps>
1. **Generate Prisma client**
   ```bash
   npx prisma generate
   ```

2. **Run migrations**
   ```bash
   npx prisma migrate dev
   ```

3. **Add routes** to `frontend/src/routes.tsx`
   ```typescript
   import { structureRoutes } from '@/features/structure';

   // In protected routes:
   ...structureRoutes,
   ```

4. **Initialise backend** in `server.ts`
   ```typescript
   import { initStructure } from './features/structure';

   await initStructure();
   ```
</Steps>

---

## Updating

```bash
npx structure update            # Update templates and schema
npx structure update --skip-schema  # Update templates only
```

The update command pulls the latest template versions. If the schema has changed, it updates your Prisma schema block. Run `npx prisma generate` and `npx prisma migrate dev` after updating.

---

## Uninstalling

```bash
npx structure uninstall
```

This removes generated files and the schema block. You will need to manually clean up any references in your `routes.tsx` and `server.ts`.

---

## Next Steps

- [Node Types](/modules/structure/node-types/) - Understanding and creating node types
- [Admin Page](/modules/structure/admin/) - Visual configuration interface
