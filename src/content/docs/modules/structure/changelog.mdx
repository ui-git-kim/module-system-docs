---
title: Changelog
description: Version history and release notes for the Structure module
---

import { Aside } from '@astrojs/starlight/components';

This page documents notable changes to the Structure module. The module uses semantic versioning: **major.minor.patch**.

- **Major** (1.0.0 → 2.0.0): Breaking changes requiring migration
- **Minor** (1.0.0 → 1.1.0): New features, backwards compatible
- **Patch** (1.0.0 → 1.0.1): Bug fixes, template fixes

<Aside type="tip">
Check your installed version with `npx structure info`.
</Aside>

---

## v1.5.0

**Comprehensive Template Cleanup and Feature Additions**

Major overhaul of all templates: bug fixes, new admin features, reactivity fixes, and code cleanup.

**New Features:**
- Card builder with live preview in admin Pages tab (`CardPreview` component)
- Configurable list page filters - admins define which fields appear as filter dropdowns
- Column configuration for table view in list pages
- Detail page navigation styles: tabs, sidebar, or none (`pageNav.style`)
- Full CRUD connections tab with `NodeSelector` dialog for creating connections
- `NodeDetailHeader` component extracted from inline detail page header

**Reactivity Fixes:**
- `NodeTypeRegistry.onSync()` now returns unsubscribe function (prevents memory leaks)
- `useEnabledNodeTypes` hook properly subscribes to onSync events and re-renders on changes
- `useStructureNavItems` hook properly subscribes to onSync events with cleanup
- `useNodes` hook uses `useMemo` for query decomposition instead of `JSON.stringify`
- `useNodeTree` uses shared `NodeTreeItem` type instead of local duplicate
- `useNodeConnections` hook supports `refetch` pattern

**Admin Improvements:**
- Explicit mode management (`list`, `create`, `edit`, `duplicate`) replaces fragile slug detection
- `NodeTypeForm` accepts `mode` prop instead of inferring from slug string
- Filterable fields configuration section in Pages tab
- Column configuration section in Pages tab

**Cleanup:**
- Removed `isEnabled` from frontend `NodeTypeConfig` interface (kept in database for future use)
- Removed unused `Filter` import from NodeListPage (re-added properly with filter implementation)
- Fixed invalid Lucide icons: `Lightning` → `Bolt`, `Magic` → `Sparkle`
- Removed unused `parentId` prop from `CreateNodeButton`
- Added `scroll-area` to shadcn/ui components
- Renamed `NodeHeader` → `NodeDetailHeader`
- Added schema comment explaining self-referential `@relation` directives

**Type Additions:**
- `card`, `columns`, `filterableFields`, `defaultSort` added to `listPage` navigation config (frontend and backend)

---

## v1.4.17

**Hooks Fix**

- Fixed Rules of Hooks violation in `useNodeTypeConfig` hook

---

## v1.4.11

**Card Custom Fields and Breadcrumbs**

- Fixed card custom fields display
- Removed standalone NodeHeader component (inlined into detail page)
- Improved breadcrumb rendering

---

## v1.4.10

**Visual Badge Picker**

- Replaced custom fields text input with visual badge picker in admin form
- Admins can now click to select which fields display on cards

---

## v1.4.9

**Admin Form Reorganisation**

- Reorganised admin form tabs - moved sidebar navigation settings to Properties tab
- Renamed "Navigation" tab to "Pages" for clarity
- Better grouping of related settings

---

## v1.4.3

**Two-Pane Admin Layout**

- Two-pane master-detail admin layout with left list and right form
- Drag-to-reorder node types with dnd-kit
- Hierarchy configuration tab with parent/child type selection

---

## v1.4.1

**Registry Alignment**

- Aligned registries with BaseRegistry pattern from starter template
- Added `mainNav` prompt for controlling primary node navigation visibility

---

## v1.4.0

**Container Node Support**

- Restored container node type with conditional template support
- `{{#if hasContainer}}` blocks for container-specific code generation
- Container types (e.g., Client) can contain primary types (e.g., Project)

---

## v1.3.8

**Connection Hook Fix**

- Fixed `NodeConnection` type in `useNodeConnections` hook

---

## v1.3.7

**Unified Update Command**

- Smart schema integration during module updates
- Rich lifecycle context for init and update operations
- Auto-initialise docs submodule during scaffold update

---

## v1.3.0 — v1.2.0

**Template Variable Substitution**

- Added `{{variableName}}` template substitution from prompt answers
- Default fallback syntax: `{{variableName|default}}`
- Conditional blocks: `{{#if variable}}...{{/if}}`
- Migrate command and version tracking

---

## v1.0.0

**Initial Release**

- Unified node model with hierarchical structure
- Dynamic navigation registration
- Tab, widget, and card extension registries
- NodeSelector component for cross-module integration
- Admin page for node type configuration
- Clean URL routing without `/structure/` prefix
- Prisma schema with materialised path for tree queries
- Full CRUD API for nodes and node types
- Built-in tabs: Overview, Info, Children, Connections, Settings

---

## Versioning

Version bumps happen via the module's version scripts:

```bash
npm run version:patch  # Bug fix (x.x.X)
npm run version:minor  # New feature (x.X.0)
npm run version:major  # Breaking change (X.0.0)
```

Any change to files in `src/templates/` or `src/module.ts` requires a version bump so that apps know updates are available.
