---
title: Structure Module
description: Hierarchical organisation and navigation skeleton for SaaS applications
---

import { Steps, Tabs, TabItem, FileTree, Card, CardGrid, Aside } from '@astrojs/starlight/components';

The Structure module provides the **organisational backbone** for your SaaS application. It gives you a flexible system where you define **node types** that represent the core entities in your app, and each node gets its own detail page with tabs that other modules can extend.

<Aside type="tip" title="Think of it like this">
Structure is like a filing cabinet system. You decide what goes in the cabinet (Clients? Workspaces? Cases? Properties?), how things are organised (folders, tags), and other modules add functionality to each item (billing adds invoices, tasks adds task lists, etc.).
</Aside>

---

## How It Works

1. **You define node types** - These are the core entities in your app. A legal practice might have "Clients" and "Matters". A property manager might have "Properties" and "Tenants". A creative agency might have "Clients" and "Projects".

2. **Users create nodes** - Each node is an instance of a type. A node has a name, description, custom fields, and can be organised hierarchically.

3. **Nodes have detail pages** - When a user clicks on a node, they see a detail page with configurable navigation (tabs, sidebar, or none). The Structure module provides default tabs (Overview, Info, Children, Connections, Settings), but other modules can add their own.

4. **Modules extend nodes** - A Tasks module might add a "Tasks" tab to every node. A Billing module might add an "Invoices" tab only to Client nodes. A Notes module might add a "Notes" tab to everything.

---

## Examples

### Legal Practice

```
Node Types:
├── Client (container)     → /clients
│   └── Matter (primary)   → /clients/:clientId/matters/:matterId
│       ├── Folder         → organise documents
│       └── Tag            → categorise (e.g., "Litigation", "Contract")

Node Detail Page (/clients/abc123):
├── Overview tab      ← Structure module (widgets from other modules)
├── Info tab          ← Structure module (custom fields)
├── Matters tab       ← Structure module (child nodes)
├── Invoices tab      ← Billing module (adds this tab)
├── Documents tab     ← Documents module (adds this tab)
└── Settings tab      ← Structure module (node settings)
```

### Project Management

```
Node Types:
├── Project (primary)      → /projects
│   ├── Folder             → organise work
│   └── Tag                → categorise (e.g., "Active", "On Hold")

Node Detail Page (/projects/xyz789):
├── Overview tab      ← Structure module
├── Tasks tab         ← Tasks module (adds this tab)
├── Time tab          ← Time Tracking module (adds this tab)
├── Files tab         ← Files module (adds this tab)
└── Settings tab      ← Structure module
```

---

## Key Features

<CardGrid>
  <Card title="Unified Nodes" icon="document">
    Everything is a node - your entities, folders, tags, connections
  </Card>
  <Card title="Hierarchical" icon="list-format">
    Nodes can contain other nodes with parent/child relationships
  </Card>
  <Card title="Extensible" icon="puzzle">
    Other modules add tabs, widgets, and card extensions to nodes
  </Card>
  <Card title="Clean URLs" icon="external">
    Routes like `/clients/:id` - no `/structure/` prefix
  </Card>
</CardGrid>

**Full feature list:**

- Unified node model - everything is a node (projects, folders, tags, connections)
- Hierarchical structure with materialised path for efficient queries
- Dynamic navigation - node types auto-register in sidebar
- Extensible registries - other modules add tabs, widgets, card extensions
- Built-in tabs (Overview, Info, Children, Connections, Settings) - all optional per type
- Standalone reusable templates — create once, assign to multiple node types with local overrides
- Admin panel with visual card builder, live preview, and template configuration
- Configurable list pages with filtering, search, and multiple view modes
- Configurable detail pages with tabs, sidebar, or no-navigation layouts
- Full connection system for node-to-node relationships
- NodeSelector component for cross-module integration
- Clean URLs without `/structure/` prefix
- Favourites, archiving, and publishing support
- Drag-and-drop reordering with sort order persistence
- User-specific settings and preferences

---

## Quick Start

```bash
npx structure init
```

See the [Installation](/modules/structure/installation/) page for full setup instructions and configuration prompts.

---

## Generated Files

<Tabs>
  <TabItem label="Frontend">
    <FileTree>
    - src/features/structure/
      - index.ts
      - routes.config.tsx
      - types/ (node.types, node-type.types, registry.types)
      - config/ (registries for types, tabs, widgets, extensions)
      - services/ (structure.service — includes template CRUD)
      - hooks/ (useNodes, useNode, useNodeMutations, useNodeTypes, useNodeTree, useTemplates, etc.)
      - components/
        - node/ (NodeIcon, NodeCard, NodeDetailHeader, NodeForm, etc.)
        - selectors/ (NodeSelector)
        - tree/ (StructureTree)
        - views/ (NodeGrid, NodeList)
        - fields/ (NodeFieldRenderer)
        - widgets/ (NodeWidgetWrapper)
        - toolbar/ (QuickCreateDropdown)
        - tabs/ (Overview, Info, Children, Connections, Settings)
        - admin/ (NodeTypeForm, CardPreview)
        - common/ (IconPicker, ColorPicker)
      - pages/ (NodeListPage, NodeDetailPage, admin/)
      - registrations/ (tabs, navigation, routes, toolbar, types, admin)
    </FileTree>
  </TabItem>
  <TabItem label="Backend">
    <FileTree>
    - src/features/structure/
      - index.ts
      - structure.routes.ts
      - structure.service.ts
      - structure.types.ts (includes Zod schemas for nodes, types, and templates)
      - structure.init.ts
      - route.registration.ts
      - service.registration.ts
      - filter.registration.ts
      - action.registration.ts
    </FileTree>
  </TabItem>
</Tabs>

---

## Commands

```bash
npx structure init              # Install module
npx structure init --force      # Force overwrite existing files
npx structure uninstall         # Remove module
npx structure update            # Update to latest templates
npx structure update --skip-schema  # Update templates only
npx structure info              # Show module info
```

---

## Dependencies

**shadcn/ui components** (installed automatically):

`alert` `badge` `button` `card` `collapsible` `command` `dialog` `dropdown-menu` `input` `label` `popover` `scroll-area` `select` `skeleton` `switch` `tabs` `textarea` `tooltip`

**npm packages:** `react-hook-form`

---

## Next Steps

- [Installation](/modules/structure/installation/) - Setup and configuration prompts
- [Module Integration](/modules/structure/integration/) - **How other modules depend on and extend Structure**
- [Node Types](/modules/structure/node-types/) - Understanding and creating node types
- [Admin Page](/modules/structure/admin/) - Visual node type configuration
- [Pages](/modules/structure/pages/) - Detail pages, list pages, and navigation styles
- [Registries](/modules/structure/registries/) - Extending nodes with tabs, widgets, and badges
- [Components & Hooks](/modules/structure/components/) - Component and hook reference
- [Database & API](/modules/structure/database/) - Schema and endpoint reference
