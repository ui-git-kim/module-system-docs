---
title: BaseRegistry API
description: Complete API reference for BaseRegistry
---

## Class Signature

```typescript
abstract class BaseRegistry<T extends RegistryItem> {
  constructor(name: string, defaultOrder?: number);

  register(item: T): void;
  unregister(id: string): void;
  get(id: string): T | undefined;
  getAll(): T[];
  has(id: string): boolean;
  clear(): void;

  subscribe(listener: () => void): () => void;
  getSnapshot(): T[];
}
```

---

## RegistryItem

```typescript
interface RegistryItem {
  id: string;
  order?: number;
}
```

---

## Methods

### register(item)

Register or update an item. Merges properties on duplicate ID.

```typescript
registry.register({ id: 'test', title: 'Test', order: 10 });
```

### unregister(id)

Remove an item by ID.

```typescript
registry.unregister('test');
```

### get(id)

Get single item or undefined.

```typescript
const item = registry.get('test');
```

### getAll()

Get all items sorted by order.

```typescript
const items = registry.getAll();
```

### has(id)

Check if item exists.

```typescript
if (registry.has('test')) { ... }
```

### clear()

Remove all items (for testing).

```typescript
registry.clear();
```

### subscribe(listener)

Subscribe to changes. Returns unsubscribe function.

```typescript
const unsubscribe = registry.subscribe(() => console.log('changed'));
```

### getSnapshot()

Get stable array for React.

```typescript
const items = registry.getSnapshot();
```

---

## Creating Registries

```typescript
import { BaseRegistry, type RegistryItem } from '@/config/base.registry';

interface MyItem extends RegistryItem {
  id: string;
  title: string;
}

class MyRegistry extends BaseRegistry<MyItem> {
  constructor() {
    super('MyRegistry', 10);
  }
}

export const myRegistry = new MyRegistry();
```

---

## React Hook

```typescript
import { useSyncExternalStore } from 'react';

export function useMyRegistry() {
  return useSyncExternalStore(
    (cb) => myRegistry.subscribe(cb),
    () => myRegistry.getSnapshot()
  );
}
```
