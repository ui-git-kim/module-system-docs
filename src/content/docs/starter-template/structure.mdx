---
title: Project Structure
description: Understanding the file organisation and feature-based architecture
---

Both frontend and backend use a feature-based architecture where each feature is self-contained.

## Root Structure

```
project-root/
├── frontend/               # React application
├── backend/                # Express API server
├── docs/                   # Documentation (git submodule)
├── scripts/                # Build and version scripts
├── create-app.ps1          # Windows clone script
├── create-app.sh           # macOS/Linux clone script
├── update-template.ps1     # Windows update script
├── update-template.sh      # macOS/Linux update script
├── CLAUDE.md               # AI assistant instructions
├── VERSION                 # Template version
└── package.json            # Root scripts for both
```

## Frontend Structure

```
frontend/
├── src/
│   ├── components/
│   │   ├── ui/             # shadcn/ui components (don't modify)
│   │   └── layout/         # App layout components
│   ├── config/             # Registries and app configuration
│   │   ├── base.registry.ts
│   │   ├── navigation.registry.ts
│   │   ├── dashboard.registry.ts
│   │   ├── settings-pages.registry.ts
│   │   ├── preferences.registry.ts
│   │   ├── integrations.registry.ts
│   │   ├── header-toolbar.registry.ts
│   │   ├── filter.registry.ts
│   │   ├── action.registry.ts
│   │   └── registry.hooks.ts
│   ├── features/           # Feature modules
│   │   ├── auth/
│   │   ├── dashboard/
│   │   └── user/
│   ├── lib/                # Shared utilities
│   │   ├── api.ts          # Axios client with auth
│   │   └── utils.ts        # Helper functions
│   ├── constants/          # Static values
│   ├── styles/             # Global styles
│   ├── routes.tsx          # Router configuration
│   └── main.tsx            # App entry point
├── .env                    # Environment variables
└── package.json
```

## Backend Structure

```
backend/
├── src/
│   ├── config/             # Backend registries
│   │   ├── base.registry.ts
│   │   ├── route.registry.ts
│   │   ├── service.registry.ts
│   │   ├── filter.registry.ts
│   │   ├── action.registry.ts
│   │   └── env.ts          # Environment validation
│   ├── features/           # Feature modules
│   │   └── user/
│   ├── middleware/
│   │   └── auth.middleware.ts
│   ├── lib/
│   │   ├── prisma.ts       # Database client
│   │   └── errors.ts       # HTTP error classes
│   └── app.ts              # Express app setup
├── prisma/
│   ├── schema.prisma       # Database schema
│   └── migrations/         # Migration history
├── prisma.config.ts        # Prisma CLI configuration
├── .env                    # Environment variables
└── package.json
```

## Feature Structure

Each feature follows a consistent structure:

### Frontend Feature

```
frontend/src/features/[feature]/
├── index.ts                    # Public exports + registration imports
├── routes.config.tsx           # Route definitions
├── navigation.registration.ts  # Navigation registry registration
├── components/                 # Feature components
│   └── MyComponent.tsx
├── pages/                      # Feature pages
│   └── MyFeaturePage.tsx
├── services/                   # API service layer
│   └── feature.service.ts
├── hooks/                      # Custom hooks
│   └── useFeature.ts
└── types/                      # TypeScript types
    └── feature.types.ts
```

### Backend Feature

```
backend/src/features/[feature]/
├── index.ts                    # Exports + registration imports
├── [feature].routes.ts         # Express routes
├── [feature].service.ts        # Business logic
├── [feature].types.ts          # Types
├── route.registration.ts       # Route registry registration
└── service.registration.ts     # Service registry registration
```

## Key Files Reference

### Frontend

| File | Purpose |
|------|---------|
| `src/routes.tsx` | Main router, spreads feature routes |
| `src/config/navigation.registry.ts` | Sidebar/user menu registry |
| `src/config/dashboard.registry.ts` | Dashboard widget registry |
| `src/config/settings-pages.registry.ts` | Settings pages registry |
| `src/config/base.registry.ts` | Base class for creating registries |
| `src/config/registry.hooks.ts` | React hooks for all registries |
| `src/lib/api.ts` | Axios client with auth interceptor |
| `src/features/auth/lib/getAuthToken.ts` | Centralised auth token getter |

### Backend

| File | Purpose |
|------|---------|
| `src/app.ts` | Express app setup, route mounting |
| `src/config/route.registry.ts` | Route registry with versioning |
| `src/config/service.registry.ts` | Service registry for cross-feature |
| `src/config/env.ts` | Environment validation |
| `src/middleware/auth.middleware.ts` | JWT verification middleware |
| `src/lib/prisma.ts` | Database client, health checks |
| `src/lib/errors.ts` | HTTP-aware error classes |
| `prisma/schema.prisma` | Database schema |

## Registration Pattern

Features self-register using side-effect imports:

```typescript
// frontend/src/features/billing/index.ts

// Side-effect imports trigger registration
import './navigation.registration';
import './settings.registration';

// Public exports
export { BillingPage } from './pages/BillingPage';
export { billingRoutes } from './routes.config';
```

```typescript
// frontend/src/features/billing/navigation.registration.ts
import { navigationRegistry } from '@/config/navigation.registry';
import { CreditCard } from 'lucide-react';

navigationRegistry.registerMain({
  id: 'billing',
  title: 'Billing',
  url: '/billing',
  icon: CreditCard,
  order: 40,
});
```

## Adding a New Feature

### Frontend

1. Create folder: `frontend/src/features/[name]/`
2. Create `navigation.registration.ts` to register nav items
3. Create `routes.config.tsx` for routes
4. Create `index.ts` with side-effect imports
5. Import feature in `main.tsx`
6. Spread routes in `routes.tsx`

### Backend

1. Create folder: `backend/src/features/[name]/`
2. Create `route.registration.ts` to register routes
3. Create `service.registration.ts` to register service
4. Create `index.ts` with side-effect imports
5. Import feature in `app.ts`

## Environment Files

### Frontend (`.env`)

```bash
VITE_NEON_AUTH_URL=https://xxx.neonauth.region.aws.neon.tech/neondb/auth
VITE_API_URL=http://localhost:3100
VITE_APP_NAME=My App
```

### Backend (`.env`)

```bash
# Database
DATABASE_URL="postgresql://...@ep-xxx-pooler.region.aws.neon.tech/neondb"
DIRECT_DATABASE_URL="postgresql://...@ep-xxx.region.aws.neon.tech/neondb"
DATABASE_ADAPTER=neon

# Auth
NEON_AUTH_URL="https://xxx.neonauth.region.aws.neon.tech/neondb/auth"

# Server
PORT=3100
NODE_ENV=development
FRONTEND_URL=http://localhost:5173
```

## File Naming Conventions

| Type | Convention | Example |
|------|-----------|---------|
| Components | PascalCase | `UserAvatar.tsx` |
| Pages | PascalCase + Page | `BillingPage.tsx` |
| Hooks | camelCase + use | `useUserProfile.ts` |
| Services | camelCase + .service | `billing.service.ts` |
| Routes | camelCase + .routes | `billing.routes.ts` |
| Types | camelCase + .types | `billing.types.ts` |
| Registrations | camelCase + .registration | `navigation.registration.ts` |
| Config | camelCase + .registry | `navigation.registry.ts` |
