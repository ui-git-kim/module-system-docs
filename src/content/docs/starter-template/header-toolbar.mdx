---
title: Header Toolbar
description: How modules add buttons, toggles, dropdowns, and custom components to the site header
---

import { Aside, Tabs, TabItem } from '@astrojs/starlight/components';

The header toolbar is the horizontal bar at the top of the app, to the right of the breadcrumbs. Modules add items to it via the `headerToolbarRegistry` — buttons, toggles, dropdowns, search inputs, and fully custom components.

---

## Registering Items

```typescript
import { headerToolbarRegistry } from '@/config/header-toolbar.registry';
import { Search, Bell, Moon } from 'lucide-react';

// Action button
headerToolbarRegistry.register({
  id: 'global-search',
  type: 'action',
  position: 'left',
  order: 10,
  icon: Search,
  label: 'Search (Cmd+K)',
  onClick: () => openSearchModal(),
});

// Dropdown with badge
headerToolbarRegistry.register({
  id: 'notifications',
  type: 'dropdown',
  position: 'right',
  order: 50,
  icon: Bell,
  label: 'Notifications',
  badge: 3,
  component: NotificationDropdown,
});

// Custom component (full control over rendering)
headerToolbarRegistry.register({
  id: 'theme-toggle',
  type: 'custom',
  position: 'right',
  order: 100,
  label: 'Toggle theme',
  component: ThemeToggle,
});
```

---

## Item Types

| Type | Description | Required Props |
|------|-------------|----------------|
| `action` | Button that calls a function on click | `onClick`, `icon`, `label` |
| `toggle` | Button with active/inactive state indicator | `onClick`, `icon`, `isActive`, `label` |
| `dropdown` | Opens a dropdown panel | `icon`, `component`, `label` |
| `button` | Labelled button (e.g., "Save Changes") | `label`, `onClick`, `variant` |
| `search` | Compact search input | `onSearch`, `placeholder` |
| `custom` | Fully custom component | `component` |

<Aside type="tip">
For toggles that need different icons for active/inactive states (like a theme toggle), use `type: 'custom'` with a component that handles the icon switching logic internally.
</Aside>

---

## Position and Order

Items are split into `left` and `right` groups in the header, then sorted by `order` within each group.

```typescript
// Left side — primary actions
{ position: 'left', order: 10 }   // Search
{ position: 'left', order: 20 }   // Quick actions

// Right side — utilities
{ position: 'right', order: 50 }  // Notifications
{ position: 'right', order: 100 } // Theme toggle
```

### Order Convention (0-100 Scale)

| Range | Label | Examples |
|-------|-------|---------|
| 0-25 | Core | Search, primary actions |
| 26-50 | Feature | Notifications, module-specific actions |
| 51-75 | Secondary | Status indicators, utilities |
| 76-100 | Utility | Theme toggle, help |

---

## Dynamic Toolbar Actions

Admin pages (and any page) can dynamically inject toolbar items that appear only while the page is mounted. Use the `useAdminToolbarActions` hook:

```tsx
import { useAdminToolbarActions } from '@/features/admin';

function NavigationManagementPage() {
  const [hasChanges, setHasChanges] = useState(false);

  // Inject a "Save" button into the header while this page is mounted
  useAdminToolbarActions([
    {
      id: 'nav-save',
      type: 'button',
      label: 'Save Changes',
      position: 'right',
      order: 1,
      variant: 'default',
      disabled: !hasChanges,
      onClick: handleSave,
    },
  ]);

  return <div>{/* Page content */}</div>;
}
```

The toolbar items are automatically removed when the component unmounts.

---

## Admin Overrides

Admins can hide toolbar items from the admin panel (Admin > Header Toolbar). Hidden items are stored in the database as toolbar overrides and respected by the sidebar rendering logic.

Items hidden by admins are not rendered regardless of registry state.

---

## React Hooks

| Hook | Returns |
|------|---------|
| `useHeaderToolbarRegistry()` | All registered toolbar items |
| `useHeaderToolbarGrouped()` | Items grouped by position (`left` / `right`) |

---

## Item Interface

```typescript
interface ToolbarItem {
  id: string;
  type: 'action' | 'toggle' | 'dropdown' | 'button' | 'search' | 'custom';
  position: 'left' | 'right';
  order?: number;              // Default: 50
  icon?: LucideIcon;
  label?: string;              // Accessible label (tooltip text)
  badge?: string | number;     // Badge count/text
  onClick?: () => void;
  isActive?: boolean;          // For toggle type
  component?: React.ComponentType;  // For dropdown/custom types
  variant?: string;            // For button type
  disabled?: boolean;          // For button type
  loading?: boolean;           // For button type
  placeholder?: string;        // For search type
  onSearch?: (query: string) => void;  // For search type
}
```

---

## Next Steps

- [Registry Reference](/starter-template/registries/) — All available registries
- [Dynamic Breadcrumbs](/starter-template/breadcrumbs/) — Page-level breadcrumb control
- [Admin Feature](/starter-template/admin-feature/) — Admin panel overview
