---
title: Configuration
description: Environment variables and configuration options
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

## Environment Files

<Tabs>
  <TabItem label="Frontend">
    ```env
    VITE_NEON_AUTH_URL=https://xxx.neonauth.region.aws.neon.tech/neondb/auth
    VITE_API_URL=http://localhost:3100
    VITE_APP_NAME=My App
    ```
  </TabItem>
  <TabItem label="Backend">
    ```env
    DATABASE_URL="postgresql://user:pass@ep-xxx-pooler.region.aws.neon.tech/neondb?sslmode=require"
    DIRECT_DATABASE_URL="postgresql://user:pass@ep-xxx.region.aws.neon.tech/neondb?sslmode=require"
    DATABASE_ADAPTER=neon
    NEON_AUTH_URL="https://xxx.neonauth.region.aws.neon.tech/neondb/auth"
    PORT=3100
    NODE_ENV=development
    FRONTEND_URL=http://localhost:5173
    DEBUG_PRISMA=false
    DB_QUERY_TIMEOUT=10000
    SHUTDOWN_TIMEOUT=10000
    ```
  </TabItem>
</Tabs>

:::danger[Security]
Never commit `.env` files. They are git-ignored by default.
:::

---

## Backend Variables

| Variable | Required | Description |
|----------|----------|-------------|
| `DATABASE_URL` | Yes | Pooled connection (has `-pooler`) |
| `DIRECT_DATABASE_URL` | Yes | Direct connection (for migrations) |
| `DATABASE_ADAPTER` | No | `neon` (default) or `pg` |
| `NEON_AUTH_URL` | Yes | Auth URL for JWT validation |
| `PORT` | No | Server port (default: 3100) |
| `NODE_ENV` | No | Environment mode |
| `FRONTEND_URL` | Yes | CORS allowed origin |

---

## Database Configuration

### Neon URLs

| URL | Pattern | Purpose |
|-----|---------|---------|
| `DATABASE_URL` | `ep-xxx-pooler.region...` | App queries (pooled) |
| `DIRECT_DATABASE_URL` | `ep-xxx.region...` | Migrations (direct) |

### Database Adapter

```env
# For Neon (default)
DATABASE_ADAPTER=neon

# For standard PostgreSQL
DATABASE_ADAPTER=pg
```

---

## Auth URL Matching

The `NEON_AUTH_URL` must match **exactly** between frontend and backend:

```env
# Frontend
VITE_NEON_AUTH_URL=https://xxx.neonauth.region.aws.neon.tech/neondb/auth

# Backend - MUST be identical
NEON_AUTH_URL=https://xxx.neonauth.region.aws.neon.tech/neondb/auth
```

---

## Prisma Commands

```bash
cd backend

# Create and apply migration
npx prisma migrate dev --name describe_change

# Apply migrations (production)
npx prisma migrate deploy

# Generate client
npx prisma generate

# Open GUI
npx prisma studio
```

---

## Next Steps

- [Updating](/starter-template/updating/) - Template updates
- [Authentication](/starter-template/authentication/) - Auth setup
