---
title: Creating Modules
description: Step-by-step guide to building modules
---

import { Steps } from '@astrojs/starlight/components';

## Frontend Module

<Steps>
1. **Create feature folder**
   ```bash
   mkdir -p frontend/src/features/[module]/{components,pages,hooks}
   ```

2. **Create navigation registration**
   ```typescript
   // navigation.registration.ts
   import { navigationRegistry } from '@/config/navigation.registry';
   import { Icon } from 'lucide-react';

   navigationRegistry.registerMain({
     id: '[module]',
     title: '[Module]',
     url: '/[module]',
     icon: Icon,
     order: 50,
   });
   ```

3. **Create routes**
   ```typescript
   // routes.config.tsx
   import { lazy } from 'react';
   import type { RouteObject } from 'react-router-dom';

   const ModulePage = lazy(() =>
     import('./pages/ModulePage').then((m) => ({ default: m.ModulePage }))
   );

   export const moduleRoutes: RouteObject[] = [
     { path: '[module]', element: <ModulePage /> },
   ];
   ```

4. **Create index file**
   ```typescript
   // index.ts
   import './navigation.registration';

   export { moduleRoutes } from './routes.config';
   ```
</Steps>

---

## Backend Module

<Steps>
1. **Create feature folder**
   ```bash
   mkdir -p backend/src/features/[module]
   ```

2. **Create service**
   ```typescript
   // [module].service.ts
   import { prisma } from '../../lib/prisma.js';

   export const moduleService = {
     async getAll(userId: string) {
       return prisma.module.findMany({ where: { userId } });
     },
   };
   ```

3. **Create routes**
   ```typescript
   // [module].routes.ts
   import { Router } from 'express';
   import { moduleService } from './[module].service.js';

   const router = Router();

   router.get('/', async (req, res, next) => {
     try {
       const data = await moduleService.getAll(req.user!.id);
       res.json(data);
     } catch (error) {
       next(error);
     }
   });

   export const moduleRoutes = router;
   ```

4. **Create registrations**
   ```typescript
   // route.registration.ts
   import { routeRegistry } from '../../config/route.registry.js';
   import { moduleRoutes } from './[module].routes.js';

   routeRegistry.register({
     path: '/[module]',
     router: moduleRoutes,
     feature: '[module]',
     versions: ['v1'],
     requiresAuth: true,
   });
   ```

5. **Create index**
   ```typescript
   // index.ts
   import './route.registration.js';
   import './service.registration.js';

   export { moduleRoutes } from './[module].routes.js';
   export { moduleService } from './[module].service.js';
   ```
</Steps>

---

## Installation Steps

Document in `INSTALLATION.md`:

1. Copy frontend files to `frontend/src/features/`
2. Copy backend files to `backend/src/features/`
3. Add Prisma schema additions
4. Run `npx prisma migrate dev`
5. Import module in entry points
6. Add routes to `routes.tsx`

---

## Next Steps

- [Module Structure](/module-starter/module-structure/) - Complete file reference
- [Templates](/module-starter/templates/) - Copy-paste code
